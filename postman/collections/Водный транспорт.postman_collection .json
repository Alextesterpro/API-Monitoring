{
  "info": {
    "_postman_id": "d4935013-4732-4270-9af0-90062b78df28",
    "name": "Водный транспорт",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "42456973",
    "_collection_link": "https://go.postman.co/collection/33428729-d4935013-4732-4270-9af0-90062b78df28?source=collection_link"
  },
  "item": [
    {
      "name": "Получение токена",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "",
              "let response = pm.response.json();",
              "",
              "pm.environment.set(\"token\", response.access_token);",
              "",
              "console.log(\"Токен сохранён:\", response.access_token);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*"
          },
          {
            "key": "Accept-Language",
            "value": "en-US,en;q=0.9,ru;q=0.8"
          },
          {
            "key": "Cache-Control",
            "value": "no-cache"
          },
          {
            "key": "Connection",
            "value": "keep-alive"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Origin",
            "value": "http://91.227.17.139"
          },
          {
            "key": "Pragma",
            "value": "no-cache"
          },
          {
            "key": "Referer",
            "value": "http://91.227.17.139/signin"
          },
          {
            "key": "User-Agent",
            "value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"
          },
          {
            "key": "service",
            "value": "eputs"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"username\":\"eputsseleniumide@ya.ru\",\"password\":\"Formattwotest2025_\"}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/passport/api/login",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "passport",
            "api",
            "login"
          ]
        },
        "description": "Generated from cURL: curl 'http://91.227.17.139/services/passport/api/login' \\\n  -H 'Accept: application/json, text/plain, */*' \\\n  -H 'Accept-Language: en-US,en;q=0.9,ru;q=0.8' \\\n  -H 'Cache-Control: no-cache' \\\n  -H 'Connection: keep-alive' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Origin: http://91.227.17.139' \\\n  -H 'Pragma: no-cache' \\\n  -H 'Referer: http://91.227.17.139/signin' \\\n  -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36' \\\n  -H 'service: eputs' \\\n  --data-raw '{\"username\":\"eputsseleniumide@ya.ru\",\"password\":\"Formattwotest2025_\"}' \\\n  --insecure"
      },
      "response": []
    },
    {
      "name": "Список Транспортные средства",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "",
              "pm.test(\"Список Транспортные средства\", function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData.success).to.eql(true);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"page\": 1,\n    \"limit\": 25\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle/list",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle",
            "list"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Добавление Транспортные средства",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "let response = pm.response.json();",
              "pm.environment.set(\"vehicle_id\", response.data.id); ",
              "",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"Добавление ТС \", function () {",
              "    const json = pm.response.json();",
              "",
              "    // Проверяем наличие ключа success",
              "    pm.expect(json).to.have.property(\"success\");",
              "    pm.expect(json.success).to.be.oneOf([true, \"true\", 1, \"1\"]);",
              "",
              "    // Проверяем отсутствие поля error",
              "    pm.expect(json).to.not.have.property(\"error\");",
              "",
              "    // Если есть error_description — это ошибка, тест должен падать",
              "    pm.expect(json).to.not.have.property(\"error_description\");",
              "",
              "    // Проверяем, что если есть поле data — оно не пустое",
              "    if (json.data !== undefined) {",
              "        pm.expect(json.data).to.not.be.null;",
              "    }",
              "",
              "    // Если есть items — это должен быть массив",
              "    if (json.items !== undefined) {",
              "        pm.expect(json.items).to.be.an(\"array\");",
              "    }",
              "",
              "    // Если успешный ответ содержит id — проверим что он строка",
              "    if (json.id !== undefined) {",
              "        pm.expect(json.id).to.be.a(\"string\").and.not.empty;",
              "    }",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "let random9 = Math.floor(100000000 + Math.random() * 900000000);",
              "let random7 = Math.floor(1000000 + Math.random() * 9000000);",
              "",
              "pm.environment.set(\"random9\", random9);",
              "pm.environment.set(\"random7\", random7);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"Апи добавление {{$randomInt}}\",\n    \"short_name\": \"{{$randomWords}}\",\n    \"mmsi\": \"{{random9}}\",\n    \"imo\": \"{{random7}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle"
          ]
        }
      },
      "response": []
    },
    {
      "name": "- Добавление Транспортные средства ( пустое поле name)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              " ",
              "pm.test(\"Status code is 422\", function () {",
              "    pm.response.to.have.status(422);",
              "});",
              "",
              "pm.test(\"- Добавление ТС (пустое поле name)\", function () {",
              "    const json = pm.response.json();",
              "",
              "    // Проверяем, что структура соответствует ошибке валидации",
              "    pm.expect(json).to.have.property(\"error\");",
              "    pm.expect(json.error).to.match(/error_validation/);",
              "",
              "    pm.expect(json).to.have.property(\"error_description\");",
              "    pm.expect(json.error_description).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"hint\");",
              "    pm.expect(json.hint).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"message\");",
              "    pm.expect(json.message).to.be.an(\"object\");",
              "",
              "    // Проверяем, что в message есть хотя бы одно поле с ошибками",
              "    const fields = Object.keys(json.message);",
              "    pm.expect(fields.length).to.be.above(0);",
              "",
              "    // Проверяем, что у каждого поля есть массив сообщений",
              "    fields.forEach(field => {",
              "        pm.expect(json.message[field]).to.be.an(\"array\");",
              "        pm.expect(json.message[field][0]).to.be.a(\"string\").and.not.empty;",
              "    });",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "let random9 = Math.floor(100000000 + Math.random() * 900000000);",
              "let random7 = Math.floor(1000000 + Math.random() * 9000000);",
              "",
              "pm.environment.set(\"random9\", random9);",
              "pm.environment.set(\"random7\", random7);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": null,\n    \"short_name\": \"{{$randomWords}}\",\n    \"mmsi\": \"{{random9}}\",\n    \"imo\": \"{{random7}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://91.227.17.139/services/transport-water/api/vehicle",
          "protocol": "http",
          "host": [
            "91",
            "227",
            "17",
            "139"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle"
          ]
        }
      },
      "response": []
    },
    {
      "name": "- Добавление Транспортные средства ( пустое поле Short name)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              " ",
              "pm.test(\"Status code is 422\", function () {",
              "    pm.response.to.have.status(422);",
              "});",
              "",
              "pm.test(\"- Добавление ТС (пустое поле Short name)\", function () {",
              "    const json = pm.response.json();",
              "",
              "    // Проверяем, что структура соответствует ошибке валидации",
              "    pm.expect(json).to.have.property(\"error\");",
              "    pm.expect(json.error).to.match(/error_validation/);",
              "",
              "    pm.expect(json).to.have.property(\"error_description\");",
              "    pm.expect(json.error_description).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"hint\");",
              "    pm.expect(json.hint).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"message\");",
              "    pm.expect(json.message).to.be.an(\"object\");",
              "",
              "    // Проверяем, что в message есть хотя бы одно поле с ошибками",
              "    const fields = Object.keys(json.message);",
              "    pm.expect(fields.length).to.be.above(0);",
              "",
              "    // Проверяем, что у каждого поля есть массив сообщений",
              "    fields.forEach(field => {",
              "        pm.expect(json.message[field]).to.be.an(\"array\");",
              "        pm.expect(json.message[field][0]).to.be.a(\"string\").and.not.empty;",
              "    });",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "let random9 = Math.floor(100000000 + Math.random() * 900000000);",
              "let random7 = Math.floor(1000000 + Math.random() * 9000000);",
              "",
              "pm.environment.set(\"random9\", random9);",
              "pm.environment.set(\"random7\", random7);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"Апи добавление {{$randomInt}}\",\n    \"short_name\": null,\n    \"mmsi\": \"{{random9}}\",\n    \"imo\": \"{{random7}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle"
          ]
        }
      },
      "response": []
    },
    {
      "name": "- Добавление Транспортные средства ( mmsi меньше 9)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              " ",
              "pm.test(\"Status code is 422\", function () {",
              "    pm.response.to.have.status(422);",
              "});",
              "",
              "pm.test(\"- Добавление ТС (mmsi меньше 9)\", function () {",
              "    const json = pm.response.json();",
              "",
              "    // Проверяем, что структура соответствует ошибке валидации",
              "    pm.expect(json).to.have.property(\"error\");",
              "    pm.expect(json.error).to.match(/error_validation/);",
              "",
              "    pm.expect(json).to.have.property(\"error_description\");",
              "    pm.expect(json.error_description).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"hint\");",
              "    pm.expect(json.hint).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"message\");",
              "    pm.expect(json.message).to.be.an(\"object\");",
              "",
              "    // Проверяем, что в message есть хотя бы одно поле с ошибками",
              "    const fields = Object.keys(json.message);",
              "    pm.expect(fields.length).to.be.above(0);",
              "",
              "    // Проверяем, что у каждого поля есть массив сообщений",
              "    fields.forEach(field => {",
              "        pm.expect(json.message[field]).to.be.an(\"array\");",
              "        pm.expect(json.message[field][0]).to.be.a(\"string\").and.not.empty;",
              "    });",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "let random8 = Math.floor(10000000 + Math.random() * 90000000);",
              "let random7 = Math.floor(1000000 + Math.random() * 9000000);",
              "",
              "pm.environment.set(\"random8\", random8);",
              "pm.environment.set(\"random7\", random7);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"Апи добавление {{$randomInt}}\",\n    \"short_name\": \"{{$randomWords}}\",\n    \"mmsi\": \"{{random8}}\",\n    \"imo\": \"{{random7}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle"
          ]
        }
      },
      "response": []
    },
    {
      "name": "- Добавление Транспортные средства ( mmsi больше 9)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              " ",
              "pm.test(\"Status code is 422\", function () {",
              "    pm.response.to.have.status(422);",
              "});",
              "",
              "pm.test(\"- Добавление ТС(mmsi больше 9)\", function () {",
              "    const json = pm.response.json();",
              "",
              "    // Проверяем, что структура соответствует ошибке валидации",
              "    pm.expect(json).to.have.property(\"error\");",
              "    pm.expect(json.error).to.match(/error_validation/);",
              "",
              "    pm.expect(json).to.have.property(\"error_description\");",
              "    pm.expect(json.error_description).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"hint\");",
              "    pm.expect(json.hint).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"message\");",
              "    pm.expect(json.message).to.be.an(\"object\");",
              "",
              "    // Проверяем, что в message есть хотя бы одно поле с ошибками",
              "    const fields = Object.keys(json.message);",
              "    pm.expect(fields.length).to.be.above(0);",
              "",
              "    // Проверяем, что у каждого поля есть массив сообщений",
              "    fields.forEach(field => {",
              "        pm.expect(json.message[field]).to.be.an(\"array\");",
              "        pm.expect(json.message[field][0]).to.be.a(\"string\").and.not.empty;",
              "    });",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "let random10 = Math.floor(1000000000 + Math.random() * 9000000000);",
              "let random7 = Math.floor(1000000 + Math.random() * 9000000);",
              "",
              "pm.environment.set(\"random10\", random10);",
              "pm.environment.set(\"random7\", random7);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"Апи добавление {{$randomInt}}\",\n    \"short_name\": \"{{$randomWords}}\",\n    \"mmsi\": \"{{random10}}\",\n    \"imo\": \"{{random7}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle"
          ]
        }
      },
      "response": []
    },
    {
      "name": "- Добавление Транспортные средства (imo больше 7)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              " ",
              "pm.test(\"Status code is 422\", function () {",
              "    pm.response.to.have.status(422);",
              "});",
              "",
              "pm.test(\"- Добавление ТС (imo больше 7)\", function () {",
              "    const json = pm.response.json();",
              "",
              "    // Проверяем, что структура соответствует ошибке валидации",
              "    pm.expect(json).to.have.property(\"error\");",
              "    pm.expect(json.error).to.match(/error_validation/);",
              "",
              "    pm.expect(json).to.have.property(\"error_description\");",
              "    pm.expect(json.error_description).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"hint\");",
              "    pm.expect(json.hint).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"message\");",
              "    pm.expect(json.message).to.be.an(\"object\");",
              "",
              "    // Проверяем, что в message есть хотя бы одно поле с ошибками",
              "    const fields = Object.keys(json.message);",
              "    pm.expect(fields.length).to.be.above(0);",
              "",
              "    // Проверяем, что у каждого поля есть массив сообщений",
              "    fields.forEach(field => {",
              "        pm.expect(json.message[field]).to.be.an(\"array\");",
              "        pm.expect(json.message[field][0]).to.be.a(\"string\").and.not.empty;",
              "    });",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "//let random10 = Math.floor(1000000000 + Math.random() * 9000000000);",
              "//let random7 = Math.floor(1000000 + Math.random() * 9000000);",
              "",
              "//pm.environment.set(\"random10\", random10);",
              "//pm.environment.set(\"random7\", random7);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"Апи добавление {{$randomInt}}\",\n    \"short_name\": \"{{$randomWords}}\",\n    \"mmsi\": \"{{random9}}\",\n    \"imo\": \"{{random8}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle"
          ]
        }
      },
      "response": []
    },
    {
      "name": "- Добавление Транспортные средства (imo меньше 7 7)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              " ",
              "pm.test(\"Status code is 422\", function () {",
              "    pm.response.to.have.status(422);",
              "});",
              "",
              "pm.test(\"- Добавление ТС (imo меньше 7)\", function () {",
              "    const json = pm.response.json();",
              "",
              "    // Проверяем, что структура соответствует ошибке валидации",
              "    pm.expect(json).to.have.property(\"error\");",
              "    pm.expect(json.error).to.match(/error_validation/);",
              "",
              "    pm.expect(json).to.have.property(\"error_description\");",
              "    pm.expect(json.error_description).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"hint\");",
              "    pm.expect(json.hint).to.be.a(\"string\").and.not.empty;",
              "",
              "    pm.expect(json).to.have.property(\"message\");",
              "    pm.expect(json.message).to.be.an(\"object\");",
              "",
              "    // Проверяем, что в message есть хотя бы одно поле с ошибками",
              "    const fields = Object.keys(json.message);",
              "    pm.expect(fields.length).to.be.above(0);",
              "",
              "    // Проверяем, что у каждого поля есть массив сообщений",
              "    fields.forEach(field => {",
              "        pm.expect(json.message[field]).to.be.an(\"array\");",
              "        pm.expect(json.message[field][0]).to.be.a(\"string\").and.not.empty;",
              "    });",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "let random6 = Math.floor(100000 + Math.random() * 900000);",
              "",
              "",
              "pm.environment.set(\"random6\", random6);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"Апи добавление {{$randomInt}}\",\n    \"short_name\": \"{{$randomWords}}\",\n    \"mmsi\": \"{{random9}}\",\n    \"imo\": \"{{random6}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Редактирование Транспортные средства",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"Редактирование Транспортные средства\", function () {",
              "    const json = pm.response.json();",
              "",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 204]);",
              "",
              "    if (json.success !== undefined) {",
              "        pm.expect(json.success).to.be.oneOf([true, \"true\", 1, \"1\"]);",
              "    }",
              "",
              "    pm.expect(json).to.not.have.property(\"error\");",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "let random9 = Math.floor(100000000 + Math.random() * 900000000);",
              "let random7 = Math.floor(1000000 + Math.random() * 9000000);",
              "",
              "pm.environment.set(\"random9\", random9);",
              "pm.environment.set(\"random7\", random7);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "PUT",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"Апи редактирование {{$randomInt}}\",\n    \"short_name\": \"{{$randomWords}}\",\n    \"mmsi\": \"{{random9}}\",\n    \"imo\": \"{{random7}}\",\n    \"type\": \"5\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle/{{vehicle_id}}",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle",
            "{{vehicle_id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Удаление Транспортные средства",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "",
              "pm.test(\"Удаление Транспортные средства\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 204]);",
              "",
              "    // Универсальная логика для API, которые возвращают тело",
              "    if (pm.response.headers.get(\"Content-Length\") !== \"0\") {",
              "        const json = pm.response.json();",
              "",
              "        if (json.success !== undefined) {",
              "            pm.expect(json.success).to.be.oneOf([true, \"true\", 1, \"1\"]);",
              "        }",
              "",
              "        pm.expect(json).to.not.have.property(\"error\");",
              "    }",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{token}}",
              "type": "string"
            }
          ]
        },
        "method": "DELETE",
        "header": [
          {
            "key": "project",
            "value": "98_spb",
            "type": "text"
          },
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://{{base_url}}/services/transport-water/api/vehicle/{{vehicle_id}}",
          "protocol": "http",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "services",
            "transport-water",
            "api",
            "vehicle",
            "{{vehicle_id}}"
          ]
        }
      },
      "response": []
    }
  ]
}